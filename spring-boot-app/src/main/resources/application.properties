spring.activemq.broker-url=${SPRING_ACTIVEMQ_BROKER_URL:tcp://activemq:61616}
spring.activemq.user=${SPRING_ACTIVEMQ_USER:admin}
spring.activemq.password=${SPRING_ACTIVEMQ_PASSWORD:admin}
spring.jms.pub-sub-domain=false
spring.jms.listener.acknowledge-mode=CLIENT_ACKNOWLEDGE

# ลดความถี่ของการ log
# แสดงเฉพาะข้อมูลสำคัญของ Spring Framework
logging.level.org.springframework=INFO
# แสดงเฉพาะข้อมูลสำคัญของ ActiveMQ
logging.level.org.apache.activemq=INFO
# แสดงข้อมูลละเอียดสำหรับแพ็คเกจของเรา
logging.level.com.example.activemq=DEBUG
# ลดการแสดงข้อมูลไม่จำเป็นของ Spring JMS
logging.level.org.springframework.jms=INFO

# กำหนดค่า DefaultMessageListenerContainer
# ใช้การยืนยันข้อความอัตโนมัติ
spring.jms.listener.acknowledge-mode=auto
# เริ่ม listener อัตโนมัติเมื่อแอพเริ่มทำงาน
spring.jms.listener.auto-startup=true
# จำนวน consumer ขั้นต่ำที่ทำงานพร้อมกัน
spring.jms.listener.concurrency=1
# จำนวน consumer สูงสุดที่ทำงานพร้อมกัน
spring.jms.listener.max-concurrency=1

# เพิ่ม idle time ระหว่างการตรวจสอบ queue
# จำนวน consumer ที่ยอมให้ idle
spring.jms.listener.idle-consumer-limit=1
# ระยะเวลารอระหว่างการตรวจสอบ queue (มิลลิวินาที)
spring.jms.listener.idle-execution-interval=5000